<form [formGroup]="form" (ngSubmit)="agregarJuego()">

<h2>Agregar Juego</h2>
<div style="display: flex; flex-direction: column;width: 30%;">

  <label for="">Nombre: </label>
  <input type="text" placeholder="Nombre" formControlName="nombre">
  <label for="">Año: </label>
  <input type="number" placeholder="Año de creación" formControlName="anio">
  <label for="">Descripción: </label>
  <input type="text" placeholder="Descripción" formControlName="descripcion">
  <label for="">Desarrollador: </label>
  <input type="text" placeholder="Desarrollador del juego" formControlName="desarrollador">
  <label for="">Precio: </label>
  <input type="number" placeholder="Precio del juego" formControlName="precio">
  <label for="">Categoria: </label>
  <input type="text" placeholder="Categoria" formControlName="categoria">
  <label for="">Cargar Imagen: </label>
  <div class="upload-section">
    <input type="file" (change)="onFileSelected($event)" accept="image/*">
    <button pButton label="Subir Imagen Ahora" (click)="uploadImage()" type="button">Vista Previa</button>
      @if(uploadedImageUrl){
        <p>URL de imagen subida (relativa): {{ uploadedImageUrl }}</p>
      <img [src]="construirUrlImagen(uploadedImageUrl)" alt="Imagen subida" style="max-width: 200px; margin-top: 10px;">
      }
  </div>
  <button type="submit">Agregar Juego</button>

</div>
@if(error) {
  <p style="color:red">{{ error }}</p>
} @else {
  <p style="color:green">{{ exito }}</p>
}
</form>
